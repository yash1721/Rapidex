{"version":3,"sources":["index.tsx"],"names":["React","useEffect","useRef","useMemo","useState","Fragment","Text","View","Animated","StyleSheet","Easing","Svg","Path","Square","Arc","ViewBox","sum","LinearInterpolation","AnimatedPath","createAnimatedComponent","DonutChart","data","containerWidth","containerHeight","radius","startAngle","endAngle","strokeWidth","type","animationType","labelWrapperStyle","labelValueStyle","labelTitleStyle","containerStyle","donutItemListeners","viewBox","width","height","squareInCircle","diameter","animateOpacity","Value","current","animateContainerOpacity","animatedStrokeWidths","map","pathRefs","animatedPaths","displayValue","setDisplayValue","rotationPaths","setRotationPath","defaultInterpolateConfig","inputRange","outputRange","sumOfDonutItemValue","d","value","reduce","total","prev","donutItemValueToPercentage","rotationRange","forEach","_","idx","fromValues","slice","toValues","push","from","to","setValue","slideAnimation","fadeAnimation","animations","i","ani","timing","toValue","duration","easing","bezier","useNativeDriver","parallel","start","element","addListener","animatedValue","startValue","removeAllListeners","angle","arcParams","coordX","getCenterCoord","x","coordY","y","drawPath","getDrawPath","setNativeProps","onUpdateDisplayValue","index","onPressIn","onPressOut","_getContainerStyle","styles","defaultContainer","_getLabelValueStyle","color","defaultLabelValue","_getLabelTitleStyle","defaultLabelTitle","_getLabelWrapperStyle","defaultLabelWrapper","getCorner","opacity","el","name","create","display","justifyContent","alignItems","position","fontSize","fontWeight"],"mappings":"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","sourcesContent":["import React, { useEffect, useRef, useMemo, useState, Fragment } from \"react\";\nimport {\n  StyleProp,\n  Text,\n  View,\n  ViewStyle,\n  Animated,\n  StyleSheet,\n  TextStyle,\n  Easing,\n} from \"react-native\";\n\nimport { Svg, Path } from \"react-native-svg\";\nimport { Square } from \"./packages/shape\";\nimport { Arc, ArcParams, ViewBox } from \"./packages/svg\";\nimport { sum } from \"./packages/array\";\nimport { LinearInterpolation } from \"./packages/math\";\n\nexport type DonutItem = {\n  name: string;\n  value: number;\n  color: string;\n};\n\nexport type DonutAnimationType = \"fade\" | \"slide\";\n\nexport type IDonutProps = {\n  data: DonutItem[];\n  containerWidth: number;\n  containerHeight: number;\n  radius: number;\n  startAngle?: number;\n  endAngle?: number;\n  strokeWidth?: number;\n  type?: \"butt\" | \"round\";\n  labelValueStyle?: StyleProp<TextStyle>;\n  labelTitleStyle?: StyleProp<TextStyle>;\n  labelWrapperStyle?: StyleProp<ViewStyle>;\n  containerStyle?: StyleProp<ViewStyle>;\n\n  animationType?: DonutAnimationType;\n};\n\nconst AnimatedPath = Animated.createAnimatedComponent(Path);\n\nexport const DonutChart = ({\n  data,\n  containerWidth,\n  containerHeight,\n  radius,\n  startAngle = -125,\n  endAngle = startAngle * -1,\n  strokeWidth = 10,\n  type = \"round\",\n  animationType = \"slide\",\n\n  labelWrapperStyle,\n  labelValueStyle,\n  labelTitleStyle,\n  containerStyle,\n}: IDonutProps) => {\n  let donutItemListeners: any = [];\n  const viewBox = new ViewBox({\n    width: containerWidth,\n    height: containerHeight,\n  });\n  const squareInCircle = new Square({ diameter: radius * 2 });\n\n  const animateOpacity = useRef(new Animated.Value(0)).current;\n  const animateContainerOpacity = useRef(new Animated.Value(0)).current;\n  const animatedStrokeWidths = useRef(\n    data.map(() => new Animated.Value(strokeWidth))\n  ).current;\n  const pathRefs = useRef<typeof AnimatedPath[]>([]);\n  const animatedPaths = useRef<Array<Animated.Value>>([]).current;\n\n  const [displayValue, setDisplayValue] = useState<DonutItem>(data[0]);\n\n  // TODO:\n  // remove WTF is this variable ?\n  const [rotationPaths, setRotationPath] = useState<\n    Array<{ from: number; to: number }>\n  >([]);\n\n  const defaultInterpolateConfig = (): {\n    inputRange: [number, number];\n    outputRange: [number, number];\n  } => ({ inputRange: [0, 100], outputRange: [startAngle, endAngle] });\n\n  const sumOfDonutItemValue = useMemo(\n    (): number =>\n      data\n        .map((d) => d.value)\n        .reduce((total: number, prev: number) => total + prev),\n    [data]\n  );\n\n  const donutItemValueToPercentage = useMemo(\n    () => data.map((d) => (d.value / sumOfDonutItemValue) * 100),\n    [sumOfDonutItemValue, data]\n  );\n\n  useMemo(() => {\n    const rotationRange: Array<{ from: number; to: number }> = [];\n\n    data.forEach((_, idx) => {\n      const fromValues = sum(donutItemValueToPercentage.slice(0, idx));\n      const toValues = sum(donutItemValueToPercentage.slice(0, idx + 1));\n\n      animatedPaths.push(\n        new Animated.Value(\n          LinearInterpolation({\n            value: fromValues,\n            ...defaultInterpolateConfig(),\n          })\n        )\n      );\n\n      rotationRange[idx] = {\n        from: LinearInterpolation({\n          value: fromValues,\n          ...defaultInterpolateConfig(),\n        }),\n        to: LinearInterpolation({\n          value: toValues,\n          ...defaultInterpolateConfig(),\n        }),\n      };\n    });\n\n    setRotationPath(rotationRange);\n  }, [data]);\n\n  useEffect(() => {\n    switch (animationType) {\n      case \"slide\":\n        animateContainerOpacity.setValue(1);\n        slideAnimation();\n        break;\n\n      default:\n        fadeAnimation();\n        break;\n    }\n  }, []);\n\n  const slideAnimation = () => {\n    const animations: Animated.CompositeAnimation[] = data.map((_, i) => {\n      const ani = Animated.timing(animatedPaths[i], {\n        toValue: rotationPaths[i].to,\n        duration: 3000,\n        easing: Easing.bezier(0.075, 0.82, 0.165, 1),\n        useNativeDriver: true,\n      });\n\n      return ani;\n    });\n    Animated.parallel(animations).start();\n  };\n\n  const fadeAnimation = () => {\n    Animated.timing(animateContainerOpacity, {\n      toValue: 1,\n      duration: 5000,\n      easing: Easing.bezier(0.075, 0.82, 0.165, 1),\n      useNativeDriver: true,\n    }).start();\n  };\n\n  useEffect(() => {\n    data.forEach((_, i) => {\n      const element = pathRefs.current[i];\n      donutItemListeners[i] = addListener({\n        element,\n        animatedValue: animatedPaths[i],\n        startValue: rotationPaths[i].from,\n      });\n    });\n  }, []);\n\n  useEffect(() => {\n    return () => {\n      if (animationType === \"slide\") {\n        data.forEach((_, i) => {\n          if (\n            donutItemListeners?.[i] &&\n            donutItemListeners?.[i].removeAllListeners\n          ) {\n            donutItemListeners?.[i].removeAllListeners?.();\n          }\n        });\n      }\n    };\n  }, []);\n\n  const addListener = ({\n    element,\n    animatedValue,\n    startValue,\n  }: {\n    element: any;\n    animatedValue: Animated.Value;\n    startValue: number;\n  }) => {\n    animatedValue.addListener((angle) => {\n      const arcParams: ArcParams = {\n        coordX: viewBox.getCenterCoord().x,\n        coordY: viewBox.getCenterCoord().y,\n        radius: radius,\n        startAngle: startValue,\n        endAngle: angle.value,\n      };\n      const drawPath = new Arc(arcParams).getDrawPath();\n\n      if (element) {\n        element.setNativeProps({ d: drawPath });\n      }\n    });\n  };\n\n  useEffect(() => {\n    animateOpacity.setValue(0);\n    Animated.timing(animateOpacity, {\n      toValue: 1,\n      duration: 500,\n      easing: Easing.bezier(0.075, 0.82, 0.165, 1),\n      useNativeDriver: true,\n    }).start();\n  }, []);\n\n  const onUpdateDisplayValue = (value: DonutItem, index: number) => {\n    setDisplayValue(value);\n    animateOpacity.setValue(0);\n\n    Animated.parallel([\n      Animated.timing(animateOpacity, {\n        toValue: 1,\n        duration: 500,\n        useNativeDriver: true,\n      }),\n    ]).start();\n  };\n\n  const onPressIn = (value: DonutItem, index: number) => {\n    Animated.timing(animatedStrokeWidths[index], {\n      toValue: strokeWidth + 2,\n      duration: 500,\n      useNativeDriver: true,\n      easing: Easing.bezier(0.075, 0.82, 0.165, 1),\n    }).start();\n  };\n\n  const onPressOut = (index: number) => {\n    Animated.timing(animatedStrokeWidths[index], {\n      toValue: strokeWidth,\n      duration: 500,\n      useNativeDriver: true,\n      easing: Easing.bezier(0.075, 0.82, 0.165, 1),\n    }).start();\n  };\n\n  const _getContainerStyle = (): StyleProp<ViewStyle> => [\n    styles.defaultContainer,\n    containerStyle,\n    { width: containerWidth, height: containerHeight },\n  ];\n\n  const _getLabelValueStyle = (color: string): StyleProp<TextStyle> => [\n    styles.defaultLabelValue,\n    { color },\n    labelValueStyle,\n  ];\n\n  const _getLabelTitleStyle = (color: string): StyleProp<TextStyle> => [\n    styles.defaultLabelTitle,\n    { color },\n    labelTitleStyle,\n  ];\n\n  const _getLabelWrapperStyle = (): Animated.WithAnimatedArray<any> => [\n    styles.defaultLabelWrapper,\n    {\n      width: squareInCircle.getCorner() - strokeWidth,\n      height: squareInCircle.getCorner() - strokeWidth,\n      opacity: animateOpacity,\n    },\n    labelWrapperStyle,\n  ];\n\n  return (\n    <Fragment>\n      <View style={_getContainerStyle()}>\n        <Svg width={viewBox.width} height={viewBox.height}>\n          {rotationPaths.map((d, i) => {\n            const arcParams: ArcParams = {\n              coordX: viewBox.getCenterCoord().x,\n              coordY: viewBox.getCenterCoord().y,\n              radius: radius,\n              startAngle: d.from,\n              endAngle: d.to,\n            };\n            const drawPath = new Arc(arcParams).getDrawPath();\n\n            return (\n              <AnimatedPath\n                key={`item-${i}`}\n                ref={(el: any) => (pathRefs.current[i] = el)}\n                onPress={() => onUpdateDisplayValue(data[i], i)}\n                onPressIn={() => onPressIn(data[i], i)}\n                onPressOut={() => onPressOut(i)}\n                strokeLinecap={type}\n                d={drawPath}\n                opacity={animateContainerOpacity}\n                fill=\"none\"\n                stroke={data[i].color}\n                strokeWidth={animatedStrokeWidths[i]}\n              />\n            );\n          })}\n        </Svg>\n        <Animated.View style={_getLabelWrapperStyle()}>\n          <Text style={_getLabelValueStyle(displayValue?.color)}>\n            {displayValue?.value}\n          </Text>\n          <Text style={_getLabelTitleStyle(displayValue?.color)}>\n            {displayValue?.name}\n          </Text>\n        </Animated.View>\n      </View>\n    </Fragment>\n  );\n};\nconst styles = StyleSheet.create({\n  defaultContainer: {\n    display: \"flex\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  defaultLabelWrapper: {\n    position: \"absolute\",\n    justifyContent: \"center\",\n    alignItems: \"center\",\n  },\n\n  defaultLabelValue: {\n    fontSize: 32,\n    fontWeight: \"bold\",\n  },\n\n  defaultLabelTitle: {\n    fontSize: 16,\n  },\n});\n"]}